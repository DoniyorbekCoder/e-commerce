import{E as k,e as E,q as d,s as m,r as T,o as p,c as g,a as o,i as A,v as L,b as _,x as a,F as N,u as D,y as C,z as P,A as y,O as v,C as R,m as q,D as M}from"./index.52fd6dce.js";import{_ as V}from"./add.02454cb8.js";import{_ as B}from"./search.5317d5fa.js";async function F(f="",n=0){try{const r=await k.get("admin/users",{params:{size:8,offset:n,search:f}});return[null,r.data]}catch(r){return[r,null]}}const S={class:"fixed top-0 bottom-0 right-0 w-full overflow-y-scroll bg-white-primary"},z={class:"flex items-center gap-16 mb-30"},G=o("img",{class:"w-21 h-21",src:V,alt:""},null,-1),Q=o("p",{class:"text-sm text-black-primary font-semibold leading-21 uppercase hidden md:block"},"Yangi Foydalanuvchi qo\u2018shish",-1),U=[G,Q],Y={class:"bg-white-secondary flex items-center gap-8 py-6 px-32 rounded border border-gray-secondary",role:"button"},j=o("img",{src:B,class:"w-18 h-18",alt:""},null,-1),H={class:"rounded-16 p-16 space-y-16 bg-white-secondary border border-gray-secondary"},X=E({__name:"index",setup(f){const n=C(),r=P(),h=d(()=>y(()=>import("./TableTitle.d97175e9.js"),["assets/TableTitle.d97175e9.js","assets/index.52fd6dce.js","assets/index.aa2d9d16.css"])),x=d(()=>y(()=>import("./TableItem.f4a036d8.js"),["assets/TableItem.f4a036d8.js","assets/index.52fd6dce.js","assets/index.aa2d9d16.css"])),w=d(()=>y(()=>import("./TheModal.dd9ba227.js"),["assets/TheModal.dd9ba227.js","assets/TheModal.ead79d09.css","assets/index.52fd6dce.js","assets/index.aa2d9d16.css","assets/data.6c2e8f39.js","assets/index.fc25d719.js","assets/api.d6238c19.js"])),l=m({isLoading:!1,count:0,list:[]});async function I(s){const e={...n.query};e[s.key]=String(s.value),await r.replace({query:e}),c()}const b=m(),u=m("");async function c(){const{offset:s=0}=n.query;v();const[e,i]=await F(u.value,Number(s));console.log(i.list),R(),l.value.count=i.count,l.value.list=i.list}function O(s){b.value.open(s)}return c(),(s,e)=>{const i=T("base-pagination");return p(),g("div",S,[o("div",z,[o("button",{class:"bg-yellow-primary flex items-center px-32 py-16 gap-5 rounded",role:"button",onClick:O},U),o("div",Y,[j,A(o("input",{type:"search",name:"search","onUpdate:modelValue":e[0]||(e[0]=t=>u.value=t),onInput:c,placeholder:"Qidiruv",class:"w-100 placeholder:text-gray-primary text-black-primary font-semibold focus:outline-none py-10 text-sm bg-white-secondary"},null,544),[[L,u.value]])])]),o("div",H,[_(a(h)),(p(!0),g(N,null,D(l.value.list,t=>(p(),q(a(x),{key:t.id,id:t.id,name:t.name},null,8,["id","name"]))),128))]),_(i,{active:Math.trunc(Number(a(n).query.offset)/8)+1||1,perPage:8,items:l.value.count,onChange:e[1]||(e[1]=t=>I({key:"offset",value:(t-1)*8}))},null,8,["active","items"]),_(a(w),{ref_key:"modalRef",ref:b,onSubmit:a(v),onToast:e[2]||(e[2]=t=>a(M)({text:t,callback:c}))},null,8,["onSubmit"])])}}});export{X as default};
